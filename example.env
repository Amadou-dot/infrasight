# MongoDB Connection
MONGODB_URI=

# Pusher Channel Keys (Server-side)
PUSHER_APP_ID=
PUSHER_KEY=
PUSHER_SECRET=
PUSHER_CLUSTER=

# Pusher Channel Keys (Client-side - must have NEXT_PUBLIC_ prefix)
NEXT_PUBLIC_PUSHER_KEY=
NEXT_PUBLIC_PUSHER_CLUSTER=

# Pusher Beam Keys (Optional - for push notifications)
PUSHER_INSTANCE_ID=
PUSHER_PRIMARY_KEY=

# dev
NUM_DEVICES=500
READINGS_PER_DEVICE=25
REACT_EDITOR=code

# =============================================================================
# Phase 5: Security, Performance & Monitoring
# =============================================================================

# Redis Configuration (Upstash or local Redis)
# Required for rate limiting and caching
# For Upstash: rediss://<username>:<password>@<host>:<port>
# For local: redis://localhost:6379
REDIS_URL=
# Set to true for Upstash or Redis with TLS (auto-detected for rediss:// URLs)
REDIS_TLS=false

# Rate Limiting
# Set to false to disable rate limiting entirely
RATE_LIMIT_ENABLED=true
# Max ingestion requests per device per minute
RATE_LIMIT_INGEST_PER_DEVICE=1000
# Max ingestion requests per IP per minute
RATE_LIMIT_INGEST_PER_IP=10000
# Max mutation requests (POST/PATCH/DELETE) per IP per minute
RATE_LIMIT_MUTATIONS_PER_IP=100

# Caching
# Set to false to disable caching entirely
CACHE_ENABLED=true
# Metadata endpoint cache TTL in seconds (default: 10 minutes)
CACHE_METADATA_TTL=600
# Health analytics cache TTL in seconds (default: 30 seconds)
CACHE_HEALTH_TTL=30

# Monitoring & Logging
# Log level: debug, info, warn, error
LOG_LEVEL=info
# Enable Prometheus metrics export
ENABLE_METRICS=false

# Sentry Error Tracking (optional)
# Server-side DSN
SENTRY_DSN=
# Client-side DSN (must have NEXT_PUBLIC_ prefix)
NEXT_PUBLIC_SENTRY_DSN=
# Sentry organization slug (for source map uploads)
SENTRY_ORG=
# Sentry project slug (for source map uploads)
SENTRY_PROJECT=
# Sentry auth token (for source map uploads in CI)
SENTRY_AUTH_TOKEN=

# Clerk Authentication (required)
# Get keys from https://dashboard.clerk.com
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=
CLERK_SECRET_KEY=
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/

# Clerk Organization RBAC
# Allowed org slugs (comma-separated). Defaults to "users".
CLERK_ALLOWED_ORG_SLUGS=users
# Client-side org slug allowlist (comma-separated). Defaults to "users".
NEXT_PUBLIC_CLERK_ALLOWED_ORG_SLUGS=users

# Cron Job Authentication (required)
# Secret token for /api/v2/cron/simulate endpoint. Must match the GitHub Actions CRON_SECRET repository secret.
CRON_SECRET=
